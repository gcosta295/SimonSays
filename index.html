<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simon Says </title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   
    <h1>Simon Says❤️</h1>
    <br>
    <br>
    <br>



 

<div id="container">
    <div id="container1">

        <button id="startb" class="thing" onclick="setTimeout(() => { showB(); },500);  playSound(4);" >Start!</button>
        <button id="rankb"  class="thing" onclick="showB();" >Ranking c:</button>
    </div>

    <div id="box1">   
        <button id="boton1" onclick="playSound(0);">
            </button>
 
        <button id="boton2" onclick="playSound(1);"></button>
    </div>
    
    <div id="box2">   
        <button id="boton3" onclick="playSound(3);"></button>
        <button id="boton4" onclick="playSound(2);"></button>
    </div>
</div>

<div id="container2">
    <button id="giveUp" class="thing" onclick="showB(); playSound(5);" >Give Up? :c</button>


</div>

<script type="text/javascript">

const srcArr = ['sounds/drop.mp3', 'sounds/anvil.mp3', 'sounds/lego.mp3', 'sounds/duolingo.mp3', 'sounds/yoshi.mp3', 'sounds/rickroll.mp3'];


function playSound(num){
    var use= num+1
    const audio = new Audio(srcArr[num]);
    audio.play();
    var ClickInput = num;
    const boton = document.getElementById("boton"+use);
//    applyActiveStyle(boton);
}

function start (){
    PName = "input"
    HPoints = 0;
    PPoints = 0;
    const LNums = [];
    gameTF = true;
    game(PName, HPoints, PPoints, LNums, gameTF)
}

function game (PName, HPoints, PPoints, LNums, gameTF){
    while (gameTF==true){
          RNum = Math.floor(Math.random() *4);
          LNums.push(RNum);
          for (i = 0; i < LNums.length; i++){
            num = LNums[i];
            if (i == 0){
                playSound(num);
            }else{
                setTimeout(() => {playSound(num);},800);
            }
          }
          for (i = 0; i < LNums.length; i++){
            num = LNums[i];
            setTimeout(function(){window.alert("nums " + LNums)},500);
            var box = document.getElementById("container");
            box.addEventListener("click", compare);
            box.removeEventListener("click", compare);
          }
    }
}
   
function compare(num, ClickInput){
    if (num != ClickInput){
        gameTF=false;
    }else{
        PPoints +=10;
    }
}

function showB() {
  var x = document.getElementById("box1");
  var y = document.getElementById("box2");
  var z = document.getElementById("startb");
  var q = document.getElementById("rankb");

  var w = document.getElementById("giveUp");


  if (z.style.display !== "none") {
    x.style.display = "flex";
    y.style.display = "flex";
    z.style.display = "none";
    q.style.display = "none";
    w.style.display = "flex";
    setTimeout(function(){start()},1500);

  } else {
    x.style.display = "none";
    y.style.display = "none";
    z.style.display = "flex";
    q.style.display = "flex";

    w.style.display = "none";


  }
}

</script>

</body>
  
</html>